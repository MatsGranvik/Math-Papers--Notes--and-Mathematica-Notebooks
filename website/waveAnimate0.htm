<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
<script type="text/javascript"src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: {extensions: ["color.js"]}, tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]}});</script>
<script src="complex.js"></script>
<link rel="stylesheet" href="css/IceCream.css" type="text/css" />
<title></title> 
<style type="text/css">
  body{
	background:#ffffff;
	color:#000000;
	font-family:arial;
	font-size:90%;
}
  .wrap{width:800px; margin:0 auto;}
  canvas{border: 0px solid #0f0;}
  a{color:#0f0;}
</style> 

<script> 

var Power=Math.pow, Cos=Math.cos, Sin=Math.sin, Log=Math.log, fl=Math.floor;

function parm(name, def){ return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search) || [null, ''])[1].replace(/\+/g, '%20')) || def;}

var ampf=amp=0, isAbs=parseInt( parm("isAbs",0) );
function setup(){
	function cosh(x){ return (Math.exp(x)+Math.exp(-x))/2;} function sinh(x){ return (Math.exp(x)-Math.exp(-x))/2;} function lg(x){return Math.log(x);} function pw(x,y){return Math.pow(x,y);} function cs(x){return Math.cos(x);} function sn(x){return Math.sin(x);}

	function DivideByIntegralReal( zr, zi, n, A, f ){ return Power(n,-1 + A)*((f*zi + zr - A*zr)*Cos(f*Log(n)) + ((-1 + A)*zi + f*zr)*Sin(f*Log(n)));}
	function DivideByIntegralImag( zr, zi, n, A, f ){ return Power(n,-1 + A)*((zi - A*zi - f*zr)*Cos(f*Log(n)) + (f*zi + zr - A*zr)*Sin(f*Log(n)));}

	var bkg = new Image(); bkg.src = 'backgroundwhite.png';
	var img = new Image(); img.src = 'blueorb.png';
	var imgred = new Image(); imgred.src = 'redorb.png';

	var canvas = document.getElementById('Canvas2D'), c = canvas.getContext('2d');

	var samps = 1;
	var hscale=5;
	
	function drawStart(){ 
		c.fillStyle="rgba(255, 255, 255, 1)"; 
		c.fillRect(0,0, 800, 600); 
		c.drawImage(bkg, 0, 0); 
		c.fillStyle = "gray"; c.font = "bold 32px Times"; 
		c.fillText("f="+Math.floor(fre*100)/100, 320, 50);
		c.fillStyle = "gray"; c.font = "bold 10px Times"; 
		c.fillText("x", 34, (!isAbs ? 320 : 520 )-16);
		for( var v = 0; v < 700; v += 50 ){
			c.fillText(""+(v*samps), 50 + v, (!isAbs ? 320 : 520 ));
		}
		c.fillText("y", 56, 40);
		for( var v = -200; v <= 200; v+=10 ){
			var they = (!isAbs ? 320 : 520 )+ v * hscale;
			if( they > 60 && they < 580 )c.fillText(""+(v), 50, they);
		}
		}

	var freSrc=parseFloat( parm("freqStart", 1000) )-2;
	var ampSrc=parseFloat( parm("ampStart", 0) );

	amp = ampSrc;
	
	
	var fre=freSrc, tick = 0;
	
	
	var primes= [ 2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,
		   293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,
		   641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,
		   1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,
		   1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,
		   1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,
		   1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,
		   2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,
		   2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,
		   2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163 ];
	
	var sieveSize = 10000000;
	
	var prscratch = []; var riecache = []; var summ = []; isumm = [];
	for( var rr = 0; rr < sieveSize; rr++ ){ prscratch.push( 1 ); riecache.push( 0 ); summ.push( 0 ); isumm.push( 0 ); }
	for( var j = 0; j < primes.length; j++ ){
		var pr = primes[j];
		pa = 2*pr;
		while( pa < sieveSize ){
			prscratch[pa] = 0;
			pa+=pr;}}
	for( var j = 1; j <= Math.log( sieveSize ) / Math.log ( 2 ); j++ ){
		for( var k = 1; k < Math.pow( sieveSize, 1/j ); k++ ){
			var kk = Math.pow( k,j );
			if( prscratch[k] > 0 ){riecache[ kk ] = 1.0 / j;}}}
	
	/*fre=-1;
	amp=-.5;
	isAbs = true;*/
	
	//fre = 0;
	
	function render() {
		ampf = ampf*.95+amp*.05;
		drawStart();
		var sum = 0, sum2=0, i2 = 0, sum3 = 0, sum4 = 0;
		
		var sumx = 0, sumi = 0;
		
		fre+=.03*.6;
		//tick++; amp = cs(tick*.01);

		hscale=5;
		
		/*ampf = -.5;
		hscale=5000;*/
		
		samps = 1;
		if( fre > 2000 ){samps = 2;hscale = 4; }
		if( fre > 5000 ){samps = 3;hscale = 3; }
		if( fre > 8000 ){samps = 4; hscale = 2; }
		
		//hscale = 3;

		/*fre+=.03*1;
		hscale = 50;*/
		
		for (i=1; i < 700; i++){
			for( var t = 0; t < samps; t++ ){
				i2++;
				
				sum += pw( i2,ampf)*(cs(fre*lg( i2 )));
				sum2 += pw( i2,ampf)*(sn(fre*lg( i2 )));
				
				sum3 += riecache[i2]*pw( i2,ampf)*(cs(fre*lg( i2 )));
				sum4 += riecache[i2]*pw( i2,ampf)*(sn(fre*lg( i2 )));

			}
			/*if( true ){
				var s = fre;
				var t = i2;
				var cosT = Cos(s*Log( t ));
				var sinT = Sin(s*Log( t ));
				sumx += Power( t,-1./2)*cosT;
				sumi += Power( t,-1./2)*sinT;
				
				var total = (2*s*sinT + cosT )*sumi + ( 2 * s * cosT- sinT )*sumx;
				
				c.drawImage(img, 50 + i, 300 - total * hscale/4, 4, 4); 
				c.drawImage(img, 50 + i, 300, 4, 1); 
			}
			else*/ if( isAbs ){
				var full= Math.sqrt( sum*sum + sum2*sum2 );
				c.drawImage(img, 50 + i, 500 - full * hscale, 4, 4); 
				/*var full2= Math.sqrt( sum3*sum3 + sum4*sum4 );
				c.drawImage(imgred, 50 + i, 500 - full2 * hscale, 4, 4); */
				c.drawImage(img, 50 + i, 500, 4, 1); }
			else{
			
			
				/*var A=ampf;
				var f = fre;
				var n = i;
				
				var CosSum = sum;
				var SinSum = sum2;
				
				var cN = Cos(f*Log(n));
				var sN = Sin(f*Log(n));
				
				var rv = -1 - A - 2*n + 2*( (-f*cN + (1 + A)*sN) * SinSum + ((1 + A)*cN + f*sN) * CosSum )/Power(n,A);
				var iv = -f + 2*( (f*cN - (1 + A)*sN) * CosSum + ((1 + A)*cN + f*sN) * SinSum)/Power(n,A);
				
				var val = Math.sqrt( rv*rv + iv*iv );
			
				c.drawImage(img, 50 + i, 300 - val * hscale, 4, 4); */
				
				c.drawImage(img, 50 + i, 300 - sum * hscale, 4, 4); 
				c.drawImage(imgred, 50 + i, 300 - sum2 * hscale, 4, 4); 
				//c.drawImage(img, 50 + i, 300 - (DivideByIntegralReal( sum, -sum2, i, ampf, fre )) * hscale, 4, 4); 
				//c.drawImage(imgred, 50 + i, 300 - DivideByIntegralImag( sum, -sum2, i, ampf, fre ) * hscale, 4, 4); 
				
				c.drawImage(img, 50 + i, 300, 4, 1); }}}
	var loop = setInterval(function(){render();}, 1000/30);}
var interval = setInterval(function(){if(typeof Stats=='function'){clearInterval(interval);}},100);
</script>
</head>

<body onload="setup();"> 
	
<div id="pageouter">
<div id="page2"><div id="content2"><img src="art/edgea.png"/></div></div>
<div id="page">
<div id="content7">
<br/>
<div id="loader"><img src="backgroundwhite.png"><img src="blueorb.png"><img src="redorb.png"></div>
<div id="title0"><center><h2>Animating $\displaystyle\sum_{t=1}^x t^{f \cdot i}$</h2></center></div>

<div id="title1">
	<div id="para">The blue curve is the real part of this sum, and the red curve is the imaginary part, with $\textrm{blue }y= \sum_{t=1}^x \cos(f \log t)$ and $\textrm{red }y = \sum_{t=1}^x \sin(f \log t)$.</div>
	<br/>
</div>
<div id="title2"><h3>$$y=((\sum_{t=1}^x \cos(f \log t))^2 + (\sum_{t=1}^x \sin(f \log t))^2)^{1 \over 2}$$</h3></div>


<div class="wrap"><canvas id="Canvas2D" width="800" height="600"></canvas></div> 


<script>
	document.getElementById('loader').style.display = 'none';
	if( !isAbs ){ document.getElementById('title2').style.display = 'none'; }
	else document.getElementById('title1').style.display = 'none';
</script>
<div id="para"></div>
<div id="para">And remember, from our experiments: if we take waves that go off the right side of the graph, and we draw a horizontal line through their center, the y-value of that line has coincided with the Riemann Zeta function, $\zeta(-f \cdot i)$.</div>
<div id="para"></div>

</body>

</div>
</div>
<img src="art/edgeb.png"/>
</div>

</html>