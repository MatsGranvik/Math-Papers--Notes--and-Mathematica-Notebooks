<!DOCTYPE html>
<html>
<head>
<script type="text/javascript"src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: {extensions: ["color.js"]}, tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]}});</script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://maurizzzio.github.io/function-plot/js/function-plot.js"></script>
<link rel="stylesheet" href="css/IceCream.css" type="text/css" />
<meta charset="utf-8">
<title></title>
</head>
<body>

<div id="pageouter">
<div id="page2"><div id="content2"><img src="art/edgea.png"/></div></div>
<div id="page">
<div id="content7">

	<div id='title'><h2><center>Visual Intuition about the Riemann Zeta Function</center></h2></div>
	<div id='underouter'><div id='under'></div></div>
	
<div id="para">The Riemann Zeta Function is a very famous, very important function in math.  A few unanswered questions about it have big prizes attached to them.  So let's suppose you're curious about it.</div>
<div id="para">If you are, it's also notoriously tricky to understand without a background in higher level math.  In fact, you can't get far before bumping into cryptic-seeming phrases likes "Analytic Continuation".</div>
<div id="para">Meanwhile, the following related "fact" seems to make the rounds on the internet every few months:</div>
<div id='eq'>$$1+2+3+4+5+...=-\frac{1}{12}$$</div>
<div id="para">inciting massive bloody flamewars.  And that statement seems pretty inscrutable, too.</div>
<div id="para">Okay.  Well, masochist that I am, I'm setting myself a daunting task for the following few pages.  With an absolute MINIMUM of difficult math concepts, I'll try to provide a visual explanation for what the Riemann Zeta Function is, at least from one perspective.  This will all be visually oriented - if you have taken a first year of calculus, you should be good for the actual math, for the most part.  So I won't be rigorous, there's won't be any proofs, and I won't be using any esoteric-but-precise terminology.  The "arguments", such as they are, will be visual, mostly just interactive graphs and animations.</div>
<div id="para">And hopefully, by the end, you'll have a better idea of why that infinite sum of whole numbers gets attached to the number -1/12, too.</div>
<div id="para">So, I want to start with a different sum, one that will be much more useful to explore, visually.  What do you suppose the following sum equals?</div>
	
	<div id='eq'>$$1^{ 100 i }+2^{ 100 i }+3^{ 100 i }+4^{ 100 i }+5^{ 100 i }+...=?$$</div>
	
<div id="para">Your intuition about complex exponentials might not be great.  So let's convert this into some nice trigonometry.  Using summation notation and the familiar rules $x^t=e^{t \log x}$ and Euler's formula $e^{i x} = \cos x + i \sin x$,
we can convert this into</div>

	<div id='eq'>$$1^{ 100 i }+2^{ 100 i }+3^{ 100 i }+4^{ 100 i }+...=\sum_{t=1}^\infty t^{ 100 i }=\sum_{t=1}^\infty e^{ 100 (\log t) \cdot i }=\sum_{t=1}^\infty \cos( 100 \log t ) + i \sin( 100 \log t)$$</div>
	
<div id="para">And now I make the preposterous claim that there might be some way to claim that these last two sums on the right equal</div>

	<div id='eq'>$$\sum_{t=1}^\infty \cos( 100 \log t ) + i \sin( 100 \log t)=6.51721...-.181288... \cdot i$$</div>

<div id="para">Which is to say,</div>

	<div id='eqboxouter'><div id='eqbox'>
	$$\cos(100 \log 1 )+\cos(100 \log 2 )+\cos(100 \log 3 )+\cos(100 \log 4 )+\cos(100 \log 5 )+...=6.51721...$$
	$$i \cdot(\sin(100 \log 1 )+\sin(100 \log 2 )+\sin(100 \log 3 )+\sin(100 \log 4 )+\sin(100 \log 5 )+...)=-.181288... \cdot i$$
	</div></div>
	
<div id="para">Although $1+2+3+4+5+...=-{1 \over 12}$ is more obviously absurd, these sums are pretty silly too.  Those cosine terms lack a scaling factor, for example.  The terms keep oscillating between 1 and -1 without ever getting any smaller.  This can't possibly converge, you might very well argue.</div>
<div id="para">And you're right!  It doesn't converge.  So saying that the sum $=6.51721...$ must be nonsense, right?</div>
<div id="para">Well, yes.  And in the most important, obvious sense, that's the answer, and it's important to recognize that.</div>
<div id="para">But there's also a way in which the number 6.51721... is deeply connected to this series.  That connection is actually pretty easy to see if the sum is graphed, so let's do that.  The blue plot will be the real sum, and the red plot will be the imaginary sum.</div>

	<div id="mathouter"><div id='mathbox2'>
	
	<h4>$$\displaystyle y=\sum_{t=1}^{\lfloor x \rfloor} \cos( 100 \log t ) \,\,\,\,\,\,\,\,\textrm{and}\,\,\,\,\,\,\,\, y=\sum_{t=1}^{\lfloor x \rfloor} \sin( 100 \log t )$$</h4>
	<div id="demo0"></div>
	<h6>Click and drag graph to recenter.  Use mousewheel to zoom in and out (or pinch on mobile). Graph code from <a href='http://maurizzzio.github.io/function-plot/'>here</a>.</h6>
	</div></div>

<div id="para">This graph is interactive, so play around with it, especially as $x$ gets bigger.  Click and drag to move around, and use the mouse wheel to zoom in and out.</div>
<div id="para">(And convince yourself that both the real and imaginary sums behave in similar ways - going forward, I'll only focus on the real parts of these sums for simplicity.  But everything that follows applies to the imaginary sum as well.)</div>
<div id="para">So... what do you see?  Well, the early part of the graph looks like like a random walk, right?  Say, until $x=20$ or so.  Then, as $x$ gets larger and larger, the $y$ eventually looks like a quantized wave, the amplitude of which gets bigger and bigger.  It does not, in fact, converge to a particular value.  But, there does seem to be a value the wave centered on.  And what is that value? Vsually, it's in the ballpark of six and a half.  If I claimed it was $6.51721...$, you wouldn't put up too much resistance, I bet.</div>
<div id="para">Really drag the graph out to the right a ways to convince yourself that the wave, despite growing in amplitude, stays centered on that value.  So while the wave doesn't converge, its center seems to.</div>
<div id="para">Imagine, for a moment, we had a special number type, a wave number, which had an oscillating part and a center-of-the-wave part (much as complex numbers have a real part and an imaginary part).  Given such a number system, you might concede, on the basis of the above graph, that the center part of $\cos(100 \log 1 )+\cos(100 \log 2 )+\cos(100 \log 3 )+\cos(100 \log 4 )+\cos(100 \log 5 )+...$ does seem to converge to something like $6.51721...$.</div>
<div id="para">But let's stop for a second.  Why, exactly, does the wave end up centered on $6.51721...$ anyway?  And why around x=20?  And can we describe more explicitly the oscillating part?</div>

<div id="para">Well, comparing our sum to an easier example might be a good way to start.  Our sum of cosines does resemble a <a href="http://mathworld.wolfram.com/FourierSeries.html">fourier series</a>, if you are familiar with those, only with the extra complication of that inner log term.  So let's compare our sum to a version that lacks the inner logarithm, like this:</div>
	
	$$\cos(100 \cdot 1 )+\cos(100 \cdot 2 )+\cos(100 \cdot 3 )+\cos(100 \cdot 4 )+\cos(100 \cdot 5 )+...=???$$

<div id="para">You might guess this sum doesn't converge, either, and you'd be right.  But does it have a similar offset center?</div>
	
	<div id="mathouter"><div id='mathbox2'>
	
	<h4>$$\displaystyle y=\sum_{t=1}^{\lfloor x \rfloor} \cos( 100 \log t ) \,\,\,\,\,\,\,\,\textrm{and}\,\,\,\,\,\,\,\, y=\sum_{t=1}^{\lfloor x \rfloor} \cos( 100 t )$$</h4>
	<div id="demox"></div>
	<h6>Click and drag graph to recenter.  Use mousewheel to zoom in and out (or pinch on mobile). Graph code from <a href='http://maurizzzio.github.io/function-plot/'>here</a>.</h6>
	</div></div>

<div id="para">As a matter of fact, it does.  If I suggested this red sum was centered on $-\frac{1}{2}$, just visually, you'd probably accept that.  So it's similar to our original sum in that way.</div>
<div id="para">On the other hand, the offset center for this new wave seems apparent immediately.  There is no random walk, unlike our original sum.  The offset doesn't take a while to stabilize, either.  Whatever causes the center of the wave to be offset must be much simpler.</div>
<div id="para">Still, already, this is a useful comparison.  This much simpler red sum also doesn't converge.  And yet, if we thought of it as a fictitious wave number, as before, we could agree that its center portion converges to $-\frac{1}{2}$.  We might even begin to guess that something about sampling those cosines at integer intervals is involved with the offset.  Let's explore that idea further.</div>
	
<div id="para">Along those lines, here's another pretty straightforward and fruitful experiment.  Let's compare our original sum $\displaystyle \sum_{t=1}^{\lfloor x \rfloor} \cos( 100 \log t )$ with the much-easier-to-work-with integral $\displaystyle \int_0^x \cos( 100 \log t ) \,dt$, which, when evaluated, equals $\displaystyle \frac{x}{10001} \cdot (\cos(100 \log x) + 100 \sin( 100 \log x ))$.  And let's graph those two.</div>
	
	<div id="mathouter"><div id='mathbox2'>
	<h4>$$\displaystyle y=\sum_{t=1}^{\lfloor x \rfloor} \cos( 100 \log t ) \,\,\,\,\,\,\,\,\textrm{vs}\,\,\,\,\,\,\,\, y=\int_0^x \cos( 100 \log t ) \,dt$$</h4>
	<div id="demo"></div>
	<h6>Click and drag graph to recenter.  Use mousewheel to zoom in and out (or pinch on mobile). Graph code from <a href='http://maurizzzio.github.io/function-plot/'>here</a>.</h6>
	</div></div>

<div id="para">Look further down the x-axis, around $x=500$.  The oscillating part of the sum quite obviously has the same frequency and amplitude as the wave described by the integral.  It just has an offset center.  The integral is centered on 0 - look closely at$\displaystyle \frac{x}{10001} \cdot (\cos(100 \log x) + 100 \sin( 100 \log x ))$ to see why that's the case.</div>
<div id="para">So, I'll ask again: why, exactly, does the wave end up centered on $6.51721...$ anyway?  Conceptually?</div>
<div id="para">Well, to think more clearly about that question, let's look more explicitly at what is being added, specifically, as x increases.</div>

	<div id="mathouter"><div id='mathbox2'>
	<h4>$$y=\cos( 100 \log \lfloor x \rfloor ) \,\,\,\,\,\,\,\,\textrm{vs}\,\,\,\,\,\,\,\, y=\cos( 100 \log x )$$</h4>
	<div id="demo2"></div>
	<h6>Click and drag graph to recenter.  Use mousewheel to zoom in and out (or pinch on mobile). Graph code from <a href='http://maurizzzio.github.io/function-plot/'>here</a>.</h6>
	</div></div>
	
<div id="para">The obvious observation is that the red sum is taking integer sized samples of the smooth, continuous blue curve.</div>
<div id="para">Because the blue curve is the cosine of the logarithm of x (scaled by a factor), its frequency is very, very high for small $x$ and then grows slower as $x$ gets larger.  Think about why that's true.</div>
<div id="para">Okay.  Now, let's look at three regions of this graph.</div>
<div id="para">First, look around x=500.  The red sum does a fine job approximating the shape of the smooth blue curve.</div>
<div id="para">Now look at the range x=0 to 5.  Here, the blue cosine wave goes up and down very, very quickly, with many, many peaks coming and going in an individual red sample.  The red sum and smooth blue curve have no obvious relation, the red sum samples the blue curve so randomly.</div>
<div id="para">Finally, and most intriguingly, look at the range x=13 to 20.  Here, the red sum is also doing a terrible job approximating the smooth blue curve underneath it.  Nevertheless, the red sum is no longer behaving in a random fashion.  In fact, all of the samples seem biased in one direction, as though it were sampling a different, much lower frequency curve.</div>
<div id="para">And in fact, notice the line labeled 1hz.  That's the $x$ value where the smooth blue curve is making exactly 1 entire cycle per single red sample.  This is why the sampling error all accumulates in one direction.  You can see a similar, though smaller, bias at the line marked 2hz.</div>
<div id="para">Okay.  So let's return to my original question - why does the sum end up centered on $=6.51721...$?  Let's look at the difference between these two functions.</div>

	<div id="mathouter"><div id='mathbox2'>
	<h4>$$y = \sum_{t=1}^{\lfloor x \rfloor} \cos( 100 \log t ) - \int_0^x \cos( 100 \log t ) \,dt$$</h4>
	<div id="demo3"></div>
	<h6>Click and drag graph to recenter.  Use mousewheel to zoom in and out (or pinch on mobile). Graph code from <a href='http://maurizzzio.github.io/function-plot/'>here</a>.</h6>
	</div></div>
	
<div id="para">Look again at the three regions I just listed. </div>
<div id="para">In areas around $x = 500$ and beyond, the red sum approximates the smooth blue curve pretty well.  A good hunch might be that the frequency at which the red sum samples the blue curve exceeds the frequency of the blue curve itself in some important way.  Anyway, the center of the red sum already seems established by this point.  So this probably tells us something about why the center converges, but not why it drifts originally.</div>
<div id="para">On the other end of the graph, until $x= 6$, the samples seem almost random.  This probably contributes to the drift on the center, but in hard-to-discern-ways.</div>
<div id="para">And between those two regions, centered on $x = 15$ and, to a lesser extent, $x = 8$, the red sum acts as though it is sampling some other, much lower frequency curve than the blue curve it's actually sampling, causing the center of the red sum to take a long shift in one vertical direction.</div>
<div id="para">If you've ever worked with animation, image processing, or audio processing - anything involving sampling, either temporally or spatially, really -  this might look naggingly familiar.  In fact, something like <a link="https://en.wikipedia.org/wiki/Aliasing"> temporal aliasing</a> is broadly responsible for the center drifting generally, something like the <a href="https://en.wikipedia.org/wiki/Nyquist_frequency"> Nyquist frequency</a> relates to why the center stops drifting once the change in frequency of the continuous curve slows down enough, and the <a href="https://en.wikipedia.org/wiki/Wagon-wheel_effect">wagon-wheel effect</a> is related to why the areas at x=15 and x=8 seem as though they are being sampled from some other continuous curve that is changing at a lower frequency (or see <a href="https://en.wikipedia.org/wiki/Aliasing?section=4#Sampling_sinusoidal_functions">here</a> too).</div>
<div id="para">So, to restate where we've gone here...</div>
<div id="para">Given the sum we started with</div>
<div id='eq'>$$\sum_{t=1}^\infty t^{100 i} \neq 6.51721...-.181288... \cdot i$$</div>
<div id="para">because that sum doesn't converge, as all the above graphs have strongly suggested.</div>
<div id="para">However, quite visibly, if we compare summing $t^{100 i}$ over the reals versus summing it over the whole numbers, there IS something very much like a sampling error that accumulates that recenters the eventual non-converging wave in the discrete case, and that continuous-to-discrete sampling error in this case is $6.517210426253009... - 0.18128842533808529...\cdot i$ .</div>
<div id="para">Okay.  Now I'm going to change subject quite drastically, without warning.  I'm going to open up Mathematica, and I'll ask it to calculate the <a href="https://en.wikipedia.org/wiki/Riemann_zeta_function">Riemann Zeta function</a> for $-100 i$ by typing Zeta[-100 I] (the minus sign is because the Zeta function expects function arguments in a very slightly different form, but this is trivial and not worth commenting on).  And it says... let's see... </div>
	
<div id='eq'>$$\zeta(-100 i) = 6.517210426253009... - 0.18128842533808529... i$$</div>

<div id="para">Well would you look at that.</div>

<div id="para">Note that I'm not here to explain anything about actually computing the Riemann Zeta function.  Techniques for doing so are well-documented elsewhere; most of them involve pretty intense math.  I'm just here for the pictures and the concepts.</div>
<div id="para">And yet there's still so much more we can do, visually, without touching any tricky math!  We can look at the effect of changing input frequency in these sums - this is something that lends itself to some absolutely astonishing animations.  We can add an amplitude to the samples and then vary it and see its effect.  We can see what happens to the sampling error at the so-called zeta zeros.  And we can see how this concept of "continuous-to-discrete" sampling error ties in in a very, very deep way, conceptually, with the distribution of prime numbers.</div>

<div id="para">So let's watch what happens to that sampling error as we change the frequency of the input of the function.</div>

<br/><br/>

	<center><h3><a href="page2.html">On to Part 2!</a></h3></center><br/><br/>
</center>
<h6><a href="http://www.icecreambreakfast.com/contact.html">(c) Nathan McKenzie 2017</a></h6>
<script id="jsbin-javascript">
	var A=0, f=100;
	var pow=Math.pow, cos=Math.cos, sin=Math.sin, log=Math.log, fl=Math.floor;
	var Power=Math.pow, Cos=Math.cos, Sin=Math.sin, Log=Math.log, fl=Math.floor;

	var samps=[], samps2=[], samps3=[];
	
	function intg(x){ return pow(x,(1+A)) / (pow((1+A),2)+pow(f,2)) *((1+A)*cos(f*log(x))+f*sin(f*log(x))); }
	function sumg(x){ if( x < 1 )return 0; if( samps[x] != undefined )return samps[x]; samps[x]=pow(x,A)*cos(f*log(x))+sumg(x-1);}
	function isumg(x){ if( x < 1 )return 0; if( samps2[x] != undefined )return samps2[x]; samps2[x]=pow(x,A)*sin(f*log(x))+isumg(x-1);}
	function fsumg(x){ if( x < 1 )return 0; if( samps3[x] != undefined )return samps3[x]; samps3[x]=pow(x,A)*cos(f*x)+fsumg(x-1);}
	
	function ints(x){ return pow(x,A)*cos(f*log(x));}
	function iintg(x){ return pow(x,(1+A)) / (pow((1+A),2)+pow(f,2)) *((1+A)*sin(f*log(x))-f*cos(f*log(x))); }
	function iints(x){ return pow(x,A)*sin(f*log(x)); }
	
	function line( fn, isClosed=false ){return { closed:isClosed, graphType: 'polyline', fn: fn };}
	
	var ansbase=[{y: 6.51721,text: 'y = 6.51721'}, {y: -.181288,text: 'y = -.181288...'}];
	var ansbase2=[{y: 6.51721,text: 'y = 6.51721'}];
	var ans=[{y: 6.51721,text: 'y = 6.51721'}];
	var dm={label: 'x axis', domain: [0, 50]};
	var dmLast={label: 'x axis', domain: [0, 400]};
	var dm2={label: 'y axis'};
	function ival(ff,s){return 1/(pow( Math.E, (2 * Math.PI * s)/ff)-1);}
	var anLimit = 0;
	for( var k = 1; k < pow(f,1/3); k++ ){var cur = ival(Math.abs(f),k); if( cur == ival(Math.abs(f),k-.5) ){ anLimit=k; break;} ans.push( {x:cur, text:''+k+' Hz'} ); }
	for( var k = 0; k < pow(f,1/3); k++ ){var cur = ival(Math.abs(f),k+.5); if( cur == ival(Math.abs(f),k) )break; ans.push( {x:cur, text:''+(k+.5)+' Hz'} ); }
	for( var k = 5; k < anLimit; k+=5 ){ans.push( {x:k, text:''+(f/(2*Math.PI)*(log(k+1)-log(k)))+' Hz'} );}
	
	function DivideByIntegralReal( zr, zi, n, A, f ){ return Power(n,-1 + A)*((f*zi + zr - A*zr)*Cos(f*Log(n)) + ((-1 + A)*zi + f*zr)*Sin(f*Log(n)));}

	
	functionPlot({ target: '#demo0', xAxis: dm, yAxis: dm2, annotations: ansbase, width:800, data: [ line( function (v) { return sumg(fl(v.x));}), line( function (v) { return isumg(fl(v.x));}) ]});
	functionPlot({ target: '#demox', xAxis: dm, yAxis: dm2, annotations: ansbase2, width:800, data: [ line( function (v) { return sumg(fl(v.x));}), line( function (v) { return fsumg(fl(v.x));}) ]});
	functionPlot({ target: '#demo', xAxis: dm, yAxis: dm2, annotations: ans, width:800, data: [ line( function (v) { return intg(v.x);}), line( function (v) { return sumg(fl(v.x));})]});
	functionPlot({ target: '#demo2', xAxis: dm, yAxis: dm2, annotations: ans, width:800, data: [ line( function (v) { return ints(v.x);}, true), line( function (v) { return ints(fl(v.x));}, true)]});
	functionPlot({target: '#demo3',xAxis: dm, yAxis: dm2, annotations: ans, width:800,data: [line( function (v) { return sumg(fl(v.x))-intg(v.x);})]});
</script>

</div>
</div>
<img src="art/edgeb.png"/>
</div>

</body>
</html>